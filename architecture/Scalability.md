# 규모 확장성
## 초기 구성 - 단일 서버

서비스 초기에는 서비스에 필요한 모든 구성요소들이 단일 서버에 올라가는 형태일 수 있다. 웹 서버, WAS, DB, 캐시 저장소 등이 모두 같은 서버에서 구동되는 것이다.

## 첫 번째 확장 - DB

서비스가 성장하면서 요청 수가 점점 많아진다면 DB를 별도의 서버로 분리하는 방안을 고려할 수 있다.

### 데이터베이스 선택

데이터를 영구적으로(또는 장기간) 저장할 필요성이 있다면 데이터베이스를 사용해야 한다. 데이터베이스를 선정할 때 가장 먼저 RDBMS와 NoSQL 중 하나를 고민하게 될 것이다.

#### RDBMS

대부분의 사례에서는 RDBMS를 선택하는 것이 크게 문제가 되지 않는다. 트랜잭션으로 인해 트랜잭션이 없을 때 발생할 수 있는 사항을 애플리케이션에서 구현할 필요가 없으며, 인덱스로 원하는 데이터를 검색하기 용이하며, 잠금을 사용하여 일관성을 구현할 때 사용할 수도 있다. 또, 서비스가 커지면서 확장이 필요할 때는 replication으로 읽기 부하를 줄여볼 수 있고, 그보다도 더 커지게 된다면 파티셔닝 또는 샤딩으로 대처할 수 있다.

RDBMS에는 Oracle, MySQL, Postgre 등 오랜 기간동안 비즈니스에 이용되면서 검증된 제품들이 많이 있다. 어떤 제품을 사용할지는 비용과 서비스 개발 및 운영자들의 숙련도 등의 기준으로 결정하게 될 것이다.

#### NoSQL

NoSQL은 RDBMS와 대척점에 있으며, 다양한 저장소 형태가 있어 특수한 상황에서 적절하게 쓰일 수 있다.

자세한 내용은 [[nosql-core]] 참고.